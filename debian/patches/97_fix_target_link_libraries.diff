--- a/kioslave/smtp/CMakeLists.txt
+++ b/kioslave/smtp/CMakeLists.txt
@@ -32,7 +32,7 @@
 kde4_add_plugin(kio_smtp ${kio_smtp_PART_SRCS})
 
 
-target_link_libraries(kio_smtp  ${KDE4_KIO_LIBS} ${smtp_optional_libs})
+target_link_libraries(kio_smtp ${KDE4_KDECORE_LIBS}  ${KDE4_KIO_LIBRARY} ${smtp_optional_libs} ${QT_QTNETWORK_LIBRARY} )
 
 install(TARGETS kio_smtp  DESTINATION ${PLUGIN_INSTALL_DIR} )
 
--- a/kpimidentities/CMakeLists.txt
+++ b/kpimidentities/CMakeLists.txt
@@ -6,7 +6,7 @@
 
 kde4_add_library(kpimidentities SHARED ${kpimidentities_LIB_SRCS})
 
-target_link_libraries(kpimidentities ${QT_AND_KDECORE_LIBS}  kpimutils ${KDE4_KIO_LIBS} )
+target_link_libraries(kpimidentities ${QT_AND_KDECORE_LIBS}  kpimutils ${KDE4_KIO_LIBS} ${QT_QTDBUS_LIBRARY} )
 
 set_target_properties(kpimidentities PROPERTIES VERSION ${GENERIC_LIB_VERSION} SOVERSION ${GENERIC_LIB_SOVERSION} )
 install(TARGETS kpimidentities ${INSTALL_TARGETS_DEFAULT_ARGS})
--- a/kresources/CMakeLists.txt
+++ b/kresources/CMakeLists.txt
@@ -24,7 +24,8 @@
 
 kde4_add_library(kresources SHARED ${kresources_LIB_SRCS})
 
-target_link_libraries(kresources  ${KDE4_KIO_LIBS} )
+target_link_libraries(kresources  ${KDE4_KDEUI_LIBS} ${QT_QTDBUS_LIBRARY} )
+set_target_properties(kresources PROPERTIES LINK_INTERFACE_LIBRARIES "")
 
 set_target_properties(kresources PROPERTIES VERSION ${GENERIC_LIB_VERSION} SOVERSION ${GENERIC_LIB_SOVERSION} )
 install(TARGETS kresources ${INSTALL_TARGETS_DEFAULT_ARGS})
@@ -36,7 +37,7 @@
 
 kde4_add_plugin(kcm_kresources ${kcm_kresources_PART_SRCS})
 
-target_link_libraries(kcm_kresources  ${KDE4_KDECORE_LIBS} kresources )
+target_link_libraries(kcm_kresources  ${KDE4_KDEUI_LIBS} kresources )
 
 install(TARGETS kcm_kresources  DESTINATION ${PLUGIN_INSTALL_DIR} )
 
--- a/kxmlrpcclient/CMakeLists.txt
+++ b/kxmlrpcclient/CMakeLists.txt
@@ -10,7 +10,8 @@
 
 kde4_add_library(kxmlrpcclient SHARED ${kxmlrpcclient_LIB_SRCS})
 
-target_link_libraries(kxmlrpcclient ${KDE4_KIO_LIBS})
+target_link_libraries(kxmlrpcclient ${KDE4_KIO_LIBS} ${QT_QTXML_LIBRARY} )
+set_target_properties(kxmlrpcclient PROPERTIES LINK_INTERFACE_LIBRARIES "")
 
 set_target_properties(kxmlrpcclient PROPERTIES VERSION ${GENERIC_LIB_VERSION} SOVERSION ${GENERIC_LIB_SOVERSION} )
 install(TARGETS kxmlrpcclient ${INSTALL_TARGETS_DEFAULT_ARGS})
--- a/mailtransport/CMakeLists.txt
+++ b/mailtransport/CMakeLists.txt
@@ -29,7 +29,8 @@
 kde4_add_kcfg_files(mailtransport_lib_srcs transportbase.kcfgc)
 
 kde4_add_library(mailtransport SHARED ${mailtransport_lib_srcs})
-target_link_libraries(mailtransport ${KDE4_KIO_LIBS})
+target_link_libraries(mailtransport ${KDE4_KIO_LIBS} ${QT_QTDBUS_LIBRARY} ${QT_QTNETWORK_LIBRARY} )
+set_target_properties(mailtransport PROPERTIES LINK_INTERFACE_LIBRARIES "")
 set_target_properties(mailtransport PROPERTIES VERSION ${GENERIC_LIB_VERSION} SOVERSION ${GENERIC_LIB_SOVERSION} )
 
 install(TARGETS mailtransport ${INSTALL_TARGETS_DEFAULT_ARGS})
--- a/syndication/CMakeLists.txt
+++ b/syndication/CMakeLists.txt
@@ -117,7 +117,8 @@
 
 kde4_add_library(syndication SHARED ${syndication_LIB_SRCS})
 
-target_link_libraries(syndication  ${KDE4_KIO_LIBS}  )
+target_link_libraries(syndication  ${KDE4_KIO_LIBS} ${QT_QTXML_LIBRARY} )
+set_target_properties(syndication PROPERTIES LINK_INTERFACE_LIBRARIES "")
 
 set_target_properties(syndication PROPERTIES VERSION ${GENERIC_LIB_VERSION} SOVERSION ${GENERIC_LIB_SOVERSION} )
 install(TARGETS syndication ${INSTALL_TARGETS_DEFAULT_ARGS})
--- a/kioslave/imap4/CMakeLists.txt
+++ b/kioslave/imap4/CMakeLists.txt
@@ -32,7 +32,7 @@
 
 kde4_add_plugin(kio_imap4 ${kio_imap4_PART_SRCS})
 
-target_link_libraries(kio_imap4 ${KDE4_KDE3SUPPORT_LIBS} kmime kimap)
+target_link_libraries(kio_imap4 ${KDE4_KDECORE_LIBS} ${KDE4_KIO_LIBRARY} kmime kimap)
 if (SASL2_FOUND)
 	target_link_libraries(kio_imap4 ${SASL2_LIBRARIES} )
 endif(SASL2_FOUND)
--- a/akonadi/CMakeLists.txt
+++ b/akonadi/CMakeLists.txt
@@ -113,7 +113,8 @@
 
 kde4_add_library( akonadi-kde SHARED ${akonadikde_LIB_SRC} )
 
-target_link_libraries( akonadi-kde ${QT_QTNETWORK_LIBRARY} ${QT_QTDBUS_LIBRARY} ${KDE4_KDEUI_LIBS} ${KDE4_KDE3SUPPORT_LIBS} ${AKONADI_COMMON_LIBRARIES} )
+target_link_libraries( akonadi-kde ${QT_QTNETWORK_LIBRARY} ${QT_QTDBUS_LIBRARY} ${KDE4_KDEUI_LIBS} ${KDE4_KDE3SUPPORT_LIBRARY} ${KDE4_KIO_LIBS}  ${AKONADI_COMMON_LIBRARIES} )
+set_target_properties( akonadi-kde PROPERTIES LINK_INTERFACE_LIBRARIES "")
 set_target_properties( akonadi-kde PROPERTIES VERSION ${GENERIC_LIB_VERSION} SOVERSION ${GENERIC_LIB_SOVERSION} )
 install( TARGETS akonadi-kde  ${INSTALL_TARGETS_DEFAULT_ARGS} )
 
--- a/akonadi/kmime/CMakeLists.txt
+++ b/akonadi/kmime/CMakeLists.txt
@@ -17,7 +17,7 @@
 
 kde4_add_library( akonadi-kmime SHARED ${kmimeakonadi_LIB_SRC} )
 
-target_link_libraries( akonadi-kmime akonadi-kde kmime )
+target_link_libraries( akonadi-kmime akonadi-kde kmime ${QT_QTGUI_LIBRARY} ${KDE4_KDECORE_LIBS} )
 set_target_properties( akonadi-kmime PROPERTIES VERSION ${GENERIC_LIB_VERSION} SOVERSION ${GENERIC_LIB_SOVERSION} )
 install(TARGETS akonadi-kmime ${INSTALL_TARGETS_DEFAULT_ARGS})
 
--- a/kabc/CMakeLists.txt
+++ b/kabc/CMakeLists.txt
@@ -85,7 +85,8 @@
 
 kde4_add_library(kabc SHARED ${kabc_LIB_SRCS})
 
-target_link_libraries(kabc kresources kldap ${KDE4_KDE3SUPPORT_LIBRARY})
+target_link_libraries(kabc ${KDE4_KDEUI_LIBS} kresources kldap ${KDE4_KDE3SUPPORT_LIBRARY} ${QT_QTDBUS_LIBRARY})
+set_target_properties(kabc PROPERTIES LINK_INTERFACE_LIBRARIES "kio;kresources")
 
 set_target_properties(kabc PROPERTIES VERSION ${GENERIC_LIB_VERSION} SOVERSION ${GENERIC_LIB_SOVERSION} )
 install(TARGETS kabc ${INSTALL_TARGETS_DEFAULT_ARGS})
--- a/kabc/plugins/dir/CMakeLists.txt
+++ b/kabc/plugins/dir/CMakeLists.txt
@@ -9,7 +9,7 @@
 
 kde4_add_plugin(kabc_directory ${kabc_directory_SRCS})
 
-target_link_libraries(kabc_directory ${KDE4_KDECORE_LIBS} kabc )
+target_link_libraries(kabc_directory ${KDE4_KDEUI_LIBS} kabc )
 
 install(TARGETS kabc_directory  DESTINATION ${PLUGIN_INSTALL_DIR} )
 
--- a/kabc/plugins/file/CMakeLists.txt
+++ b/kabc/plugins/file/CMakeLists.txt
@@ -9,7 +9,8 @@
 
 kde4_add_library(kabc_file_core SHARED ${kabc_file_core_SRCS})
 
-target_link_libraries(kabc_file_core ${KDE4_KDECORE_LIBS} kabc)
+target_link_libraries(kabc_file_core ${KDE4_KDEUI_LIBS} kabc)
+set_target_properties(kabc_file_core PROPERTIES LINK_INTERFACE_LIBRARIES "")
 
 set_target_properties(kabc_file_core PROPERTIES VERSION ${GENERIC_LIB_VERSION} SOVERSION ${GENERIC_LIB_SOVERSION} )
 
@@ -22,7 +23,7 @@
 
 kde4_add_plugin(kabc_file ${kabc_file_SRCS})
 
-target_link_libraries(kabc_file ${KDE4_KDECORE_LIBS} kabc_file_core)
+target_link_libraries(kabc_file ${KDE4_KDECORE_LIBS} kabc_file_core kresources)
 
 
 install(TARGETS kabc_file  DESTINATION ${PLUGIN_INSTALL_DIR} )
--- a/kabc/plugins/net/CMakeLists.txt
+++ b/kabc/plugins/net/CMakeLists.txt
@@ -9,7 +9,7 @@
 
 kde4_add_plugin(kabc_net ${kabc_net_SRCS})
 
-target_link_libraries(kabc_net  ${KDE4_KIO_LIBS} kabc)
+target_link_libraries(kabc_net  ${KDE4_KIO_LIBS} ${KDE4_KDEUI_LIBS} kabc)
 
 
 install(TARGETS kabc_net  DESTINATION ${PLUGIN_INSTALL_DIR} )
--- a/kcal/CMakeLists.txt
+++ b/kcal/CMakeLists.txt
@@ -259,6 +259,7 @@
 kde4_add_library(kcal SHARED ${kcal_LIB_SRCS})
 
 target_link_libraries(kcal ${KDE4_KDEUI_LIBS} ${QT_QTXML_LIBRARY} kresources kabc kpimutils )
+set_target_properties(kcal PROPERTIES LINK_INTERFACE_LIBRARIES "kresources")
 
 set_target_properties(kcal PROPERTIES VERSION ${GENERIC_LIB_VERSION} SOVERSION ${GENERIC_LIB_SOVERSION})
 install(TARGETS kcal ${INSTALL_TARGETS_DEFAULT_ARGS} COMPONENT Devel)
--- a/kioslave/ldap/CMakeLists.txt
+++ b/kioslave/ldap/CMakeLists.txt
@@ -3,7 +3,7 @@
 
 kde4_add_plugin(kio_ldap ${kio_ldap_PART_SRCS})
 
-target_link_libraries(kio_ldap  ${KDE4_KIO_LIBS} kldap)
+target_link_libraries(kio_ldap ${KDE4_KDECORE_LIBS} ${KDE4_KIO_LIBRARY} kldap)
 
 install(TARGETS kio_ldap  DESTINATION ${PLUGIN_INSTALL_DIR})
 
--- a/kioslave/nntp/CMakeLists.txt
+++ b/kioslave/nntp/CMakeLists.txt
@@ -10,7 +10,7 @@
 kde4_add_plugin(kio_nntp ${kio_nntp_PART_SRCS})
 
 
-target_link_libraries(kio_nntp  ${KDE4_KIO_LIBS}  )
+target_link_libraries(kio_nntp ${KDE4_KDECORE_LIBS}  ${KDE4_KIO_LIBRARY} )
 
 install(TARGETS kio_nntp  DESTINATION ${PLUGIN_INSTALL_DIR} )
 
--- a/kioslave/pop3/CMakeLists.txt
+++ b/kioslave/pop3/CMakeLists.txt
@@ -23,7 +23,7 @@
 kde4_add_plugin(kio_pop3 ${kio_pop3_PART_SRCS})
 
 
-target_link_libraries(kio_pop3  ${KDE4_KIO_LIBS} ${pop3_optional_libs})
+target_link_libraries(kio_pop3 ${KDE4_KDECORE_LIBS} ${KDE4_KIO_LIBRARY} ${pop3_optional_libs})
 
 install(TARGETS kio_pop3  DESTINATION ${PLUGIN_INSTALL_DIR} )
 
--- a/kioslave/sieve/CMakeLists.txt
+++ b/kioslave/sieve/CMakeLists.txt
@@ -12,7 +12,7 @@
 
 
 
-target_link_libraries(kio_sieve  ${KDE4_KIO_LIBS} ${SASL2_LIBRARIES})
+target_link_libraries(kio_sieve ${KDE4_KDECORE_LIBS}  ${KDE4_KIO_LIBRARY} ${SASL2_LIBRARIES})
 
 install(TARGETS kio_sieve  DESTINATION ${PLUGIN_INSTALL_DIR})
 
--- a/kldap/CMakeLists.txt
+++ b/kldap/CMakeLists.txt
@@ -69,7 +69,8 @@
 
 include_directories( ${kldap_EXTRA_INCLUDES} )
 
-target_link_libraries(kldap ${KDE4_KIO_LIBS} ${kldap_EXTRA_LIBS} )
+target_link_libraries(kldap ${KDE4_KDEUI_LIBS} ${kldap_EXTRA_LIBS} )
+set_target_properties(kldap PROPERTIES LINK_INTERFACE_LIBRARIES "")
 
 set_target_properties(kldap PROPERTIES VERSION ${GENERIC_LIB_VERSION} SOVERSION ${GENERIC_LIB_SOVERSION})
 install(TARGETS kldap ${INSTALL_TARGETS_DEFAULT_ARGS})
--- a/kpimutils/CMakeLists.txt
+++ b/kpimutils/CMakeLists.txt
@@ -13,6 +13,7 @@
 kde4_add_library(kpimutils SHARED ${kpimutils_LIB_SRCS})
 
 target_link_libraries(kpimutils ${KDE4_KDEUI_LIBS} ${KDE4_KUTILS_LIBRARY} kmime)
+set_target_properties(kpimutils PROPERTIES LINK_INTERFACE_LIBRARIES "")
 
 set_target_properties(kpimutils PROPERTIES VERSION ${GENERIC_LIB_VERSION} SOVERSION ${GENERIC_LIB_SOVERSION} )
 install(TARGETS kpimutils ${INSTALL_TARGETS_DEFAULT_ARGS})
--- a/ktnef/CMakeLists.txt
+++ b/ktnef/CMakeLists.txt
@@ -27,7 +27,7 @@
 
 kde4_add_library(ktnef SHARED ${ktnef_LIB_SRCS})
 
-target_link_libraries(ktnef  ${KDE4_KIO_LIBS} kabc kcal)
+target_link_libraries(ktnef  kabc kcal)
 
 set_target_properties(ktnef PROPERTIES VERSION ${GENERIC_LIB_VERSION} SOVERSION ${GENERIC_LIB_SOVERSION})
 install(TARGETS ktnef ${INSTALL_TARGETS_DEFAULT_ARGS})
--- a/kioslave/mbox/CMakeLists.txt
+++ b/kioslave/mbox/CMakeLists.txt
@@ -16,7 +16,7 @@
 
 
 
-target_link_libraries(kio_mbox  ${KDE4_KIO_LIBS} )
+target_link_libraries(kio_mbox  ${KDE4_KDECORE_LIBS}  ${KDE4_KIO_LIBRARY} )
 
 install(TARGETS kio_mbox  DESTINATION ${PLUGIN_INSTALL_DIR})
 
